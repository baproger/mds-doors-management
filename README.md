# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏ –Ω–∞ Laravel

## üöÄ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–∏–≤—è–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ —Ñ–∏–ª–∏–∞–ª–∞–º
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

### ‚úÖ –†—É—á–Ω–æ–π –≤–≤–æ–¥ –Ω–æ–º–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤
- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –≤–≤–æ–¥—è—Ç –Ω–æ–º–µ—Ä–∞ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –Ω–æ–º–µ—Ä–æ–≤ –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ —Å –¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ö

### ‚úÖ –î–∏–∞–ø–∞–∑–æ–Ω—ã –Ω–æ–º–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º
- **–®—ã–º–∫–µ–Ω—Ç –ü—Ä–∞–π–º –ø–∞—Ä–∫** (SHY-PP): 20000-29999
- **–®—ã–º–∫–µ–Ω—Ç –†–µ–º–∑–æ–Ω–∞** (SHY-RZ): 30000-39999
- **–ê–∫—Ç–æ–±–µ** (AKT): 40000-49999
- **–ê–ª–º–∞—Ç—ã –¢–∞—Å—Ç–∞–∫** (ALA-TST): 50000-57999
- **–ê–ª–º–∞—Ç—ã –°—Ç—Ä–æ–π–°–∏—Ç–∏** (ALA-SC): 58000-59999
- **–¢–∞—Ä–∞–∑** (TRZ): 100000-119999
- **–ê—Ç—ã—Ä–∞—É** (ATR): 120000-139999
- **–¢–∞—à–∫–µ–Ω—Ç** (TAS): 60000-69999

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–ª–∏–∞–ª–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ñ–∏–ª–∏–∞–ª –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- –ú–µ–Ω–µ–¥–∂–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –¥–æ–≥–æ–≤–æ—Ä—É

### ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –≤ JSON-—Ñ–∞–π–ª—ã
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

### ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥–æ–≥–æ–≤–æ—Ä–∞–º
- –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –¥–æ–≥–æ–≤–æ—Ä–∞
- –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É

### ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–æ–≥–æ–≤–æ—Ä—ã
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –≤—Å–µ –¥–æ–≥–æ–≤–æ—Ä—ã

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Laravel –ø—Ä–æ–µ–∫—Ç–∞
```bash
composer create-project laravel/laravel door-contracts
cd door-contracts
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
php artisan make:model Branch -m
php artisan make:model Contract -m
php artisan make:migration add_branch_id_to_users_table --table=users
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π

#### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ñ–∏–ª–∏–∞–ª–æ–≤ (database/migrations/2025_08_04_061208_create_branches_table.php):
```php
Schema::create('branches', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('code')->unique();
    $table->integer('contract_counter')->default(1);
    $table->timestamps();
});
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–≥–æ–≤–æ—Ä–æ–≤ (database/migrations/2025_08_04_061211_create_contracts_table.php):
```php
Schema::create('contracts', function (Blueprint $table) {
    $table->id();
    $table->string('contract_number')->unique();
    $table->foreignId('user_id')->constrained()->onDelete('cascade');
    $table->foreignId('branch_id')->constrained()->onDelete('cascade');
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
});
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è branch_id –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:
```php
Schema::table('users', function (Blueprint $table) {
    $table->foreignId('branch_id')->nullable()->constrained()->onDelete('set null');
    $table->string('role')->default('manager');
});
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–µ–π

#### Branch.php:
```php
protected $fillable = ['name', 'code', 'contract_counter'];

public function users()
{
    return $this->hasMany(User::class);
}

public function contracts()
{
    return $this->hasMany(Contract::class);
}
```

#### User.php:
```php
protected $fillable = ['name', 'email', 'password', 'branch_id', 'role'];

public function branch()
{
    return $this->belongsTo(Branch::class);
}

public function contracts()
{
    return $this->hasMany(Contract::class);
}
```

#### Contract.php:
```php
protected $fillable = [
    'contract_number', 'user_id', 'branch_id', 'client', 'instagram',
    'iin', 'phone', 'phone2', 'address', 'payment', 'date',
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
];

public function user()
{
    return $this->belongsTo(User::class);
}

public function branch()
{
    return $this->belongsTo(Branch::class);
}
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
```bash
php artisan make:controller AuthController
php artisan make:controller ContractController --resource
```

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (routes/web.php)
```php
Route::middleware(['auth'])->group(function () {
    Route::get('/contracts', [ContractController::class, 'index'])->name('contracts.index');
    Route::get('/contracts/create', [ContractController::class, 'create'])->name('contracts.create');
    Route::post('/contracts', [ContractController::class, 'store'])->name('contracts.store');
    Route::get('/contracts/{contract}', [ContractController::class, 'show'])->name('contracts.show');
    Route::get('/contracts/{contract}/edit', [ContractController::class, 'edit'])->name('contracts.edit');
    Route::put('/contracts/{contract}', [ContractController::class, 'update'])->name('contracts.update');
    Route::delete('/contracts/{contract}', [ContractController::class, 'destroy'])->name('contracts.destroy');
});
```

### 7. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–¥–µ—Ä–æ–≤
```bash
php artisan make:seeder BranchSeeder
php artisan make:seeder UserSeeder
```

### 8. –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π –∏ —Å–∏–¥–µ—Ä–æ–≤
```bash
php artisan migrate
php artisan db:seed
```

### 9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```bash
composer require laravel/ui
php artisan ui bootstrap --auth
npm install && npm run dev
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ù–æ–≤—ã–π –¥–æ–≥–æ–≤–æ—Ä"
3. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –≤–∞—à–µ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–æ–≥–æ–≤–æ—Ä

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –Ω–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞:
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω—É —Ñ–∏–ª–∏–∞–ª–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- –£–Ω–∏–∫–∞–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ
- –ù–µ –ø—É—Å—Ç–æ–π

### –î–∏–∞–ø–∞–∑–æ–Ω—ã –Ω–æ–º–µ—Ä–æ–≤
–ö–∞–∂–¥—ã–π —Ñ–∏–ª–∏–∞–ª –∏–º–µ–µ—Ç —Å–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –Ω–æ–º–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤:
- –®—ã–º–∫–µ–Ω—Ç –ü—Ä–∞–π–º –ø–∞—Ä–∫: 20000-29999
- –®—ã–º–∫–µ–Ω—Ç –†–µ–º–∑–æ–Ω–∞: 30000-39999
- –ê–∫—Ç–æ–±–µ: 40000-49999
- –ê–ª–º–∞—Ç—ã –¢–∞—Å—Ç–∞–∫: 50000-57999
- –ê–ª–º–∞—Ç—ã –°—Ç—Ä–æ–π–°–∏—Ç–∏: 58000-59999
- –¢–∞—Ä–∞–∑: 100000-119999
- –ê—Ç—ã—Ä–∞—É: 120000-139999
- –¢–∞—à–∫–µ–Ω—Ç: 60000-69999

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
php artisan serve
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000
